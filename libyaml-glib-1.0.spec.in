Name:		@PACKAGE@
Version:	@VERSION@
Release:	1%{?dist}
Summary:	Building GObject with YAML

Group:		Development
License:	LGPLv3
URL:		http://github.com/fengy-research/
Source0:	%{name}-%{version}.tar.gz
BuildRoot:	%(mktemp -ud %{_tmppath}/%{name}-%{version}-%{release}-XXXXXX)

BuildRequires:	glib2-devel >= 2.12
Requires:	glib2 >= 2.12

%description
Buliding GObject with YAML

%package		devel
Summary:		Header files
Group:			Development
Requires:		pkgconfig
Requires:		yaml-glib = %{version}-%{release}
%description	devel
This package contains the files needed to write programs with libyaml-glib

%prep
%setup -q


%build
%configure --disable-static --with-builtin-libyaml=yes
make %{?_smp_mflags}


%install
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT
rm -f $RPM_BUILD_ROOT/%{_libdir}/libyaml.la
rm -f $RPM_BUILD_ROOT/%{_libdir}/libyaml-glib.la
rm -f $RPM_BUILD_ROOT/%{_datadir}/doc/yaml-glib/README

%clean
rm -rf $RPM_BUILD_ROOT




%files
%defattr(-,root,root,-)
%doc README ChangeLog
%{_libdir}/
%exclude %{_libdir}/pkgconfig
%exclude %{_libdir}/debug

%files			devel
%defattr(-,root,root,-)
%doc
%{_datadir}/vala/vapi
%{_includedir}
%{_libdir}/pkgconfig

%changelog

